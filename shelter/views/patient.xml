<odoo>
  <data>

    <!-- shelter.patient -->

    <record model="ir.ui.view" id="patient_kanban">
      <field name="name">shelter.patient.kanban</field>
      <field name="model">shelter.patient</field>
      <field name="arch" type="xml">
        <kanban>
          <field name="id"/>
          <field name="display_name"/>
          <field name="crossbreed"/>
          <field name="fallback_image_small"/>
          <templates>
            <t t-name="kanban-box">
              <div class="oe_kanban_global_click">
                <div class="o_kanban_image">
                  <t t-if="record.fallback_image_small.raw_value">
                    <img t-att-src="kanban_image('shelter.patient', 'fallback_image_small', record.id.raw_value)" alt="Patient Photo"/>
                  </t>
                </div>
                <div class="oe_kanban_details">
                  <strong class="o_kanban_record_title"><field name="display_name"/></strong>
                  <ul>
                    <li><field name="purebred_breed_id"/></li>
                    <li t-if="record.crossbreed.raw_value">Crossbreed</li>
                    <li><field name="crossbreed_breed_ids"/></li>
                    <li><field name="owner_id"/></li>
                  </ul>
                </div>
              </div>
            </t>
          </templates>
        </kanban>
      </field>
    </record>

    <record model="ir.ui.view" id="patient_list">
      <field name="name">shelter.patient.list</field>
      <field name="model">shelter.patient</field>
      <field name="arch" type="xml">
        <tree>
          <field name="name"/>
          <field name="owner_id"/>
        </tree>
      </field>
    </record>

    <record model="ir.ui.view" id="shelter.patient_form">
      <field name="name">shelter.patient.form</field>
      <field name="model">shelter.patient</field>
      <field name="arch" type="xml">
        <form>
          <sheet>
            <field name="fallback_image" widget="image" class="oe_avatar" options="{'preview_image': 'fallback_image_medium'}"/>
            <div class="oe_title">
              <div class="oe_edit_only">
                <label for="name" string="Name"/>
              </div>
              <h1>
                <field name="name" placeholder="e.g. Rex"/>
              </h1>
            </div>
            <group>
              <group>
                <field name="species_id"/>
                <field name="purebred_breed_id" attrs="{'invisible': ['|', ('species_id', '=', False), '&amp;',('crossbreed_breed_ids', '!=', []), ('purebred_breed_id', '=', False)]}" context="{'default_species_id': species_id}"/>
                <field name="crossbreed_breed_ids" attrs="{'invisible': ['|', ('species_id', '=', False), '&amp;',('purebred_breed_id', '!=', False), ('crossbreed_breed_ids', '=', [])]}" widget="many2many_tags" context="{'default_species_id': species_id}"/>
                <field name="crossbreed" attrs="{'invisible': ['|', ('purebred_breed_id', '!=', False), ('crossbreed_breed_ids', '!=', [])]}"/>
                <field name="owner_id"/>
              </group>
            </group>
            <notebook>
              <page name="contacts" string="Contacts">
                <field name="contact_ids">
                  <tree editable="bottom">
                    <field name="partner_id"/>
                    <field name="type"/>
                  </tree>
                </field>
              </page>
            </notebook>
          </sheet>
          <div class="oe_chatter">
            <field name="message_follower_ids" widget="mail_followers" groups="base.group_user"/>
            <field name="message_ids" widget="mail_thread"/>
          </div>
        </form>
      </field>
    </record>

    <record model="ir.actions.act_window" id="shelter.act_window_patient">
      <field name="name">Patients</field>
      <field name="res_model">shelter.patient</field>
      <field name="view_mode">kanban,tree,form</field>
    </record>

    <menuitem name="Patients" id="shelter.menu_patient_list" parent="shelter.menu_patients"
      action="shelter.act_window_patient"/>

    </data>
  </odoo>
